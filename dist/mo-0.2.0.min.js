/*!
 * mo.js v0.2.0
 * http://mhbseal.com/api/mojs.html
 * (c) 2014-2015 Mu Haibao
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mo=e():t.mo=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r;r=function(){"use strict";return{AbstractStorage:n(1),AbstractStore:n(3),LocalStore:n(5),SessionStore:n(6),common:n(2),Cookie:n(7),date:n(9),es5:n(8),IdCard:n(11),objectPath:n(4),ParseUrl:n(12),pubSub:n(13),rules:n(14),util:n(10)}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r,i;r=[n(2)],i=function(t){"use strict";function e(t,e,n,r){for(var i=t.getItem(e),o=JSON.parse(i)||[],u=!0,s=0,a={key:n,timeout:r};s<o.length;s++)o[s].key===n&&(o[s]=a,u=!1);u&&o.push(a),t.setItem(e,JSON.stringify(o))}function n(t,e,n){var r,i,o,u,s=0;if(r=t.getItem(e)){for(i=JSON.parse(r),null==n&&(n=5),i.sort(function(t,e){return t.timeout-e.timeout}),o=i.splice(0,n),u=o.length;n>s;s++)t.removeItem(o[s].key);i.length?t.setItem(e,JSON.stringify(i)):t.removeItem(e)}else t.clear()}function r(t,e,n,r){var i={timeout:r};return null!=t&&(i.value=t),null!=e&&(i.oldValue=e),null!=n&&(i.tag=n),i}var i=t.baseClass(function(e){this.options=t.extend({storage:null,timeMapKey:"CACHE_TIME_MAP"},e)},{set:function(t,i,o,u,s){var a,c,l=+new Date,f=this.options.storage;null==u&&(u=l+864e5),(null==o||this.getTag(t)===o)&&(a=this.get(t,o,!s)),s?(c=i,i=a):c=a;try{return f.setItem(t,JSON.stringify(r(i,c,o,u))),e(f,this.options.timeMapKey,t,u),!0}catch(p){return"QuotaExceededError"===p.name&&(n(f,this.options.timeMapKey),this.set(t,i,o,u,s)),!1}},get:function(t,e,n){var r=this.options.storage.getItem(t),i=null;return r&&(r=JSON.parse(r),r.timeout>=+new Date&&(null==e||e&&e===r.tag)&&(i=n?r.oldValue:r.value)),i},getTag:function(t){var e=this.options.storage.getItem(t);return e?JSON.parse(e).tag:null},setExpireTime:function(t,e){var n=this.options.storage.getItem(t);return n?(n=JSON.parse(n),this.set(t,n.value,n.tag,e)):!1},getExpireTime:function(t){var e=this.options.storage.getItem(t);return e?JSON.parse(e).timeout:null},remove:function(t){return this.options.storage.removeItem(t)},clear:function(){return this.options.storage.clear()},gc:function(){var t,e,n,r,i,o=this.options.timeMapKey,u=this.options.storage,s=0,a=[];if(t=u.getItem(o)){for(e=JSON.parse(t),n=e.length;n>s;s++)i=e[s],r=i.key,"GUID"===r||this.get(r)||this.get(r,null,!0)?a.push(i):this.remove(r);a.length?u.setItem(o,JSON.stringify(a)):u.removeItem(o)}}});return i}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r;r=function(){"use strict";function t(t){return"object"==typeof t||"function"==typeof t?n[c.call(t)]:typeof t}var e={},n={},r=function(){},i=Array.prototype,o=String.prototype,u=Object.prototype,s=o.trim,a=Object.keys,c=u.toString,l=u.hasOwnProperty,f=Object.create,p=i.isArray,h=/[^,| ]+/g,g=!{toString:null}.propertyIsEnumerable("toString"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];return"Boolean Number String Function Date RegExp Object Array".replace(h,function(r){var i=r.toLowerCase();n["[object "+r+"]"]=i,e["is"+r]=function(e){return t(e)===i}}),e.has=function(t,e){return l.call(t,e)},e.forIn=function(t,n,r){for(var i in t)if(n.call(r,t[i],i,t)===!1)return;if(g)for(var o=0,u=d.length;u>o;o++)if(e.has(t,d[o])&&n.call(r,t[d[o]],d[o],t)===!1)return},e.extend=function(){var e,n,r,i,o,u,s,a=1,c=arguments,l=c.length,f=c[0];for(r="boolean"==typeof f,r&&(a++,f=c[1]),a===l&&(f=this,a--);l>a;a++)n=arguments[a],null!=n&&this.forIn(n,function(a,c){return e=f[c],f===a?!1:void(r&&(o=a&&t(a))&&("object"===o&&this.has(n,c)||(s="array"===o))?(i=e&&t(e),s?(s=!1,u="array"===i?e:[]):u="object"===i?e:{},f[c]=this.extend(r,u,a)):void 0!==a&&(f[c]=a))},this);return f},e.extend({type:function(e){return null==e?e+"":t(e)},isArray:p||function(e){return"array"===t(e)},isArraylike:function(t){var e=t.length,n=this.type(t);return!!e||"array"===n||"number"==typeof e&&e>0&&e-1 in t||0===e},isNaN:function(t){return void 0===t?!1:isNaN(t)},size:function(t){return null==t?0:this.isArraylike(t)?t.length:this.keys(t).length},trim:function(t){return s?s.call(t):void t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},keys:function(t){var e;return a?a(t):(e=[],this.forIn(t,function(n,r){this.has(t,r)&&e.push(r)}),e)},now:Date.now||function(){return+new Date},log:function(){window.console&&Function.apply.call(console.log,console,arguments)},baseCreate:function(t){if(!this.isObject(t))return{};if(f)return f(t);r.prototype=t;var e=new r;return r.prototype=null,e},baseClass:function(t,n,r){var i,o,u="object"!=typeof arguments[1];return u&&(r=n),o=null!=r,i=function(){arguments.length?(o&&r.apply(this,arguments),t.apply(this,arguments)):(o&&r.call(this),t.call(this))},o&&(i.superCtor=r,i.prototype=e.baseCreate(r.prototype),i.prototype.constructor=i),e.forIn(n,function(t,e){i.prototype[e]=t}),i}}),e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r,i;r=[n(2),n(4),n(1)],i=function(t,e,n){"use strict";function r(t){var e,n=t.charAt(t.length-1),r=parseInt(t);switch(n="number"==typeof n?"D":n.toUpperCase()){case"H":e=60*r*60*1e3;break;case"M":e=60*r*1e3;break;case"S":e=1e3*r;break;default:e=24*r*60*60*1e3}return e}var i=t.baseClass(function(e){this.options=t.extend({storage:null,key:null,lifeTime:"1H",rollbackEnabled:!1},e),this.init=function(){this.proxy=new n({storage:this.options.storage})},this.init()},{set:function(t,e,n){if(!this.options.rollbackEnabled&&n)throw"param rollbackEnabled is false";var i=+new Date+r(this.options.lifeTime);return this.proxy.set(this.options.key,t,e,i,n)},setAttr:function(t,n,r,i){if(!this.options.rollbackEnabled&&i)throw"param rollbackEnabled is false";var o,u;{if("object"!=typeof t)return u=this.get(r,i)||{},e.set(u,t,n),this.set(u,r,i);for(o in t)t.hasOwnProperty(o)&&this.setAttr(o,t[o],r,i)}},get:function(t,e){return this.proxy.get(this.options.key,t,e)},getAttr:function(t,n,r){return e.get(this.get(n,r),t)},getTag:function(){return this.proxy.getTag(this.options.key)},remove:function(){return this.proxy.remove(this.options.key)},setExpireTime:function(t){return this.proxy.setExpireTime(this.options.key,t)},getExpireTime:function(){return this.proxy.getExpireTime(this.options.key)},rollback:function(t){var e=this.getTag();if(!this.options.rollbackEnabled)throw"param rollbackEnabled is false";return this.set(this.get(null,!0),e)?(t&&this.set(null,e,!0),!0):void 0}});return i}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r;r=function(){"use strict";var t={set:function(t,e,n){if(!t||!e)return!1;for(var r=e.split("."),i=0,o=r.length;o-1>i;){var u=r[i];if(null==t[u]&&(t[u]={}),"object"!=typeof t[u])return!1;t=t[u],i++}return null!=n?t[r[i]]=n:delete t[r[i]],!0},get:function(t,e){if(!t||!e)return null;for(var n=e.split("."),r=0,i=n.length;i>r;)if(null==(t=t[n[r++]]))return null;return t}};return t}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r,i;r=[n(2),n(3)],i=function(t,e){"use strict";var n=t.baseClass(function(e){t.extend(this.options,e,{storage:window.localStorage}),this.init()},e);return n}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(2),n(3)],i=function(t,e){"use strict";var n=t.baseClass(function(e){t.extend(this.options,e,{proxy:window.sessionStorage}),this.init()},e);return n}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(2),n(8)],i=function(t,e){"use strict";function n(t,e){return e?t:encodeURIComponent(t)}function r(t,e){return e?t:decodeURIComponent(t)}function i(t,e){return n(e?JSON.stringify(t):String(t))}function o(t,e){return e?JSON.parse(r(t)):r(t)}function u(e){this.options=t.extend({isRaw:!1,isJson:!1},e)}return u.prototype.set=function(t,e,r){var r=r||{},o=new Date;r.expires&&o.setTime(+o+864e5*+r.expires),document.cookie=[n(t,this.options.isRaw),"=",i(e,this.options.isJson),r.expires?"; expires="+o:"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")},u.prototype.get=function(t){var n=document.cookie,i=n?n.split("; "):[],u="";return e.each(i,function(e){var n=e.split("="),i=r(n[0],this.options.isRaw);return t===i?(u=o(n[1],this.options.isJson),!1):void 0},this),u},u.prototype.remove=function(t){this.set(t,"",{expires:-1})},u}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(2)],i=function(t){"use strict";function e(t){return function(e,n,r,i){var o=e.length,u=t>0?0:o-1;for(arguments.length<3&&(r=e[u],u+=t);u>=0&&o>u;u+=t)r=n.call(i,r,e[u],u,e);return r}}var n={},r=Array.prototype,i=Function.prototype,o=r.slice,u=i.bind;return n={each:function(e,n,r){var i=0,o=e.length;if(t.isArraylike(e))for(;o>i&&n.call(r,e[i],i,e)!==!1;i++);else t.forIn(e,function(i,o){return t.has(e,o)&&n.call(r,i,o,e)===!1?!1:void 0})},map:function(t,e,n){var r=[];return this.each(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r},filter:function(t,e,n){var r=[];return this.each(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r},some:function(t,e,n){var r=!1;return this.each(t,function(t,i,o){return e.call(n,t,i,o)===!0?(r=!0,!1):void 0}),r},every:function(t,e,n){var r=!0;return this.each(t,function(t,i,o){return e.call(n,t,i,o)!==!0?r=!1:void 0}),r},indexOf:function(e,n,r){var i=0,o=e.length;if("number"==typeof r&&(i=0>r?Math.max(0,o+r):r),n!==n){for(;o>i;i++)if(t.isNaN(e[i]))return i}else for(;o>i;i++)if(e[i]===n)return i;return-1},lastIndexOf:function(e,n,r){var i=e?e.length:0;if("number"==typeof r&&(i=0>r?i+r+1:Math.min(i,r+1)),n!==n){for(;--i>=0;)if(t.isNaN(e[i]))return i}else for(;--i>=0;)if(e[i]===n)return i;return-1},bind:function(e,n){if(u)return u.apply(e,o.call(arguments,1));if(!t.isFunction(e))throw new TypeError("Bind must be called on a function");var r=o.call(arguments,2),i=function(r,i){var o=t.baseCreate(e.prototype),u=e.apply(e instanceof r?o:n,i);return t.isObject(u)?u:o},s=function(){return i(s,r.concat(o.call(arguments)))};return s},reduce:e(1),reduceRight:e(-1)}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(10)],i=function(t){"use strict";function e(e,n,r,i){return r=r||0,function(){var o=this["get"+e]();return(r>0||o>-r)&&(o+=r),0===o&&-12==r&&(o=12),t.pad(o,n,0,!1,i)}}function n(t){return function(){var e=this.getDay();return p.day[t].split(",")[e]}}function r(t){return function(){var e=p.ampm[t].split(",");return this.getHours()<12?e[0]:e[1]}}function i(){return Math.ceil((this.getMonth()+1)/3)}function o(e){return function(){for(var n=[31,28,31,30,31,30,31,31,30,31,30,31],r=this.getFullYear(),i=this.getMonth(),o=this.getDate(),u=0,s=0;i>s;s++)u+=n[s];return u+=o,(i>1&&r%4===0&&r%100!==0||r%400===0)&&(u+=1),t.pad(u,e,0)}}function u(e,n){return function(){var r=s(this,e),i=a(this,e),o=+i-+r,u=1+Math.round(o/6048e5);return t.pad(u,n,0)}}function s(t,e){var n=t.getFullYear(),r=new Date(n,0,1).getDay(),i=e-r;return i>0&&(i-=7),new Date(n,0,1+i)}function a(t,e){var n=e-t.getDay();return n>0&&(n-=7),new Date(t.getFullYear(),t.getMonth(),t.getDate()+n)}function c(t){var e,n;if("string"==typeof t)f.test(t)?n=new Date(t):(e=t.match(l),n=e.length<3?new Date(+e[0]):new Date(e[0],e[1]-1,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0));else if("number"==typeof t||"[object Date]"===Object.prototype.toString.call(t))n=new Date(+t);else{if(null!=t)return!1;n=new Date}return n}var l=/\d+/g,f=/^\d+$/,p={ampm:["AM,PM","am,am","上午,下午"],day:["周日,周一,周二,周三,周四,周五,周六","星期日,星期一,星期二,星期三,星期四,星期五,星期六"]},h=/(\\?)([MQDdwYAaHhmsS]+)/g,g={M:e("Month",null,1),MM:e("Month",2,1),Q:i,D:e("Date"),DD:e("Date",2),DDD:o(),DDDD:o(3),d:e("Day"),ddd:n(0),dddd:n(1),YY:e("FullYear",2,null,!0),YYYY:e("FullYear"),w:u(0),ww:u(0,2),A:r(0),a:r(1),aa:r(2),H:e("Hours"),HH:e("Hours",2),h:e("Hours",null,-12),hh:e("Hours",2,-12),m:e("Minutes"),mm:e("Minutes",2),s:e("Seconds"),ss:e("Seconds",2),S:e("Milliseconds"),SS:e("Milliseconds",2),SSS:e("Milliseconds",3)},d={format:function(t,e){return 1===arguments.length&&(e=t,t=null),(t=c(t))?e.replace(h,function(e,n,r){return n?r:g[r].call(t)}):void 0}},v=function(t){d[t]=function(e,n,r){return 2===arguments.length&&(r=n,n=e,e=null),e=c(e),"sub"===t&&(r=-r),e["set"+n](e["get"+n]()+r),e}};return v("add"),v("sub"),d}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r;r=function(){"use strict";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var e={guid:function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},getByteInfo:function(t,e){for(var n=0,r=t.length,i={length:0};r>n;n++)t.charCodeAt(n)>255?i.length+=2:i.length+=1,void 0!==e&&void 0===i.index&&i.length>e&&(i.index=n);return i},pad:function(t,e,n,r,i){return t+="",!e||!i&&t.length>=e?t:(null==n&&(n=""),n=new Array(e+1).join(n),t=r?(t+n).substring(0,e):(n+t).substr(-e))}};return e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(){"use strict";function t(t){this.num=t}var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],n=[1,0,"X",9,8,7,6,5,4,3,2];return t.prototype.checkCode=function(){var t=this.num;if(18===t.length){for(var r=0,i=0;17>i;i++)r+=e[i]*t[i];if(t[17].toUpperCase()!==String(n[r%11]))return!1}return!0},t.prototype.checkBirth=function(){var t=this.getBirth(),e=new Date(t.year,t.month-1,t.day),n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),o=new Date;return+t.year!==n||+t.month!==r||+t.day!==i||e>o?!1:!0},t.prototype.getBirth=function(){var t=this.num;return 15===t.length&&(t=t.slice(0,6)+"19"+t.slice(6,16)),{year:t.slice(6,10),month:t.slice(10,12),day:t.slice(12,14)}},t.prototype.getSex=function(){var t,e=this.num;return t=18===e.length?e.substr(-2,1)%2:e.substr(-1,1)%2,t?"男":"女"},t}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(){"use strict";function t(t){t||(t=window.location.href);for(var r,i=n.exec(t),o=this.result={Attr:{},Param:{}},u=14;u--;)o.Attr[e[u]]=i[u]||"";(r=o.Attr.query)&&r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,n){e&&(o.Param[e]=n)})}var e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;return t.prototype.getAttr=function(t){var e=this.result.Attr;return t?e[t]:e},t.prototype.getParam=function(t){var e=this.result.Param;return t?e[t]:e},t}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r,i;r=[n(8),n(4)],i=function(t,e){"use strict";function n(r,i,o){var u=e.get(r,i);u&&t.each(u,function(t,e){~e.indexOf("id_")?t.handler.call(t.context,o):n(u,e,o)},this)}var r={},i=0,o={publish:function(t,e){n(r,t,e)},subscribe:function(t,n,o){var u=e.get(r,t);null==u&&e.set(r,t,u={}),u["id_"+i++]={handler:n,context:o}},unsubscribe:function(n,i){var o=e.get(r,n),u={};o&&(i?t.each(o,function(t,e){return t.handler===i?(delete o[e],!1):void 0}):(t.each(o,function(t,e){~e.indexOf("id_")||(u[e]=t)}),e.set(r,n,u)))},clear:function(t){t?e.set(r,t,null):r={}}};return o}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r;r=function(){"use strict";var t={isRequired:function(t){return""!==t},isChinese:function(t){return/^[\u4e00-\u9fa5]+$/.test(t)},isDoubleByte:function(t){return/[^\x00-\xff]/.test(t)},isZipcode:function(t){return/^\d{6}$/.test(t)},isQq:function(t){return/^[1-9]\d{4,9}$/.test(t)},isPicture:function(t){return/\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$/.test(t)},isRar:function(t){return/\.(rar|zip|7zip|tgz|)$/.test(t)},isMobile:function(t){return/^1[34578]\d{9}$/.test(t)},isMoney:function(t){return/^([1-9]\d*(\.\d{1,2})?|0\.\d{1,2})$/.test(t)},isEnglish:function(t){return/^[A-Za-z]+$/.test(t)},isLowerCase:function(t){return/^[a-z]+$/.test(t)},isUpperCase:function(t){return/^[A-Z]+$/.test(t)},isNumber:function(t){return/^\d+$/.test(t)},isInteger:function(t){return/^-?[1-9]\d*$/.test(t)},isFloat:function(t){return/^-?([1-9]\d*|0)\.\d+$/.test(t)},isRealName:function(t){return/^[a-zA-Z\u4e00-\u9fa5]+$/.test(t)},isEmail:function(t){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(t)},isUrl:function(t){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(t)},isIdCard:function(t){return/^(\d{15}|\d{17}[0-9a-zA-Z])$/.test(t)},isPhone:function(t){return/^(\d{3,4}-)\d{7,8}(-\d{1,6})?$/.test(t)},isAreaNum:function(t){return/^\d{3,4}$/.test(t)},isHostNum:function(t){return/^\d{7,8}$/.test(t)},isExtensionNum:function(t){return/^\d{1,6}$/.test(t)},isIp:function(t){return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(t)}};return t}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}])});